<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu</title>
    <link rel="stylesheet" href="../stylesheets/menu.css">
    <link rel="stylesheet" href="../stylesheets/style.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li>
                    <a href="../index.html">Home</a>
                </li>
                <li>
                    <a href="about.html">About</a>
                </li>
                <li>
                    <a href="recipes.html">Recipes</a>
                </li>
                <li>
                    <a href="menu.html">Menu</a>
                </li>
                <li>
                    <a href="request.html">Request</a>
                </li>
            </ul>
        </nav>
    </header>
        <main>
            <h1>Suzi's Delectable Delights</h1>
            <div class="menu">
                <div id="nutella-cupcakes" class="menu-option">
                    <img src = "../images/nutella-cupcakes.jpg" alt= "Nutella Cupcakes" width="280" height="200">
                    <p class="desc">Nutella Cupcakes - 6 Ct.</p> <br>
                    <button data-order="nutella-cupcakes">Order</button>
                </div>

                <div id="petifores" class="menu-option">
                    <img src = "../images/petifores.jpg" alt= "Petifores" width="280" height="200">
                    <p class="desc">Petifores - 1 Ct.</p> <br>
                    <button data-order="petifores">Order</button>
                </div>

                <div id="sugar-cookies" class="menu-option">
                    <img src = "../images/sugar-cookies.jpg" alt= "Sugar Cookies" width="280" height="200">
                    <p class="desc">Sugar Cookies - 12 Ct.</p> <br>
                    <button data-order="sugar-cookies">Order</button>
                </div>
            </div>
        </main>

        <p>Advertisement</p>
        <aside>
            <div id="ads">
                <img src = "../images/crumbl.jpg" alt= "Crumbl Ad" width="280" height="200">
                <img src = "../images/bonbon.jpg" alt= "The Bonbonerie Ad" width="200" height="200">
                <img src = "../images/servatii.jpg" alt= "Servatii Ad" width="280" height="200">
            </div>
        </aside>
        <br>
        <footer>
            <p>Suzi's Bakeshop LLC</p>
        </footer>
        <script> //JS goes after the footer

            // Create an event listener that listens for the page to load
            window.addEventListener("DOMContentLoaded", function(e) {
                console.log("The page loaded")

                // get a const fo the order buttons
                const orderButtons = document.querySelectorAll("button[data-order]")

                // create a foreach loop for each button
                orderButtons.forEach(function(btn){

                    // listen for a click
                    btn.addEventListener("click", function(e){
                        console.log("button clicked")

                        // get the current target and container
                        const btn = e.currentTarget;
                        const container = btn.parentNode;

                        // create an order object
                        const order = {
                            id: btn.getAttribute("data-order"),
                            title: container.querySelector(".desc").innerText,
                            price: "$0.00"
                        };

                        // save to local storage
                        localStorage.setItem("order", JSON.stringify(order));

                        // switch to a new page
                        const url = window.location.href.replace("menu.html", "request.html");
                        window.location.href = url;
                    });
    
                });

            });
        </script>
</body>
</html>