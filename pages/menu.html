<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu</title>
    <link rel="stylesheet" href="../stylesheets/menu.css">
    <link rel="stylesheet" href="../stylesheets/style.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li>
                    <a href="../index.html">Home</a>
                </li>
                <li>
                    <a href="about.html">About</a>
                </li>
                <li>
                    <a href="recipes.html">Recipes</a>
                </li>
                <li>
                    <a href="menu.html">Menu</a>
                </li>
                <li>
                    <a href="request.html">Request</a>
                </li>
            </ul>
        </nav>
    </header>
        <main>
            <h1>Suzi's Delectable Delights</h1>
            <div class="menu">
                <div id="nutella-cupcakes" class="menu-option">
                    <img src = "../images/nutella-cupcakes.jpg" alt= "Nutella Cupcakes" width="280" height="200">
                    <p class="desc">Nutella Cupcakes - 6 Ct.</p> <br>
                    <button data-order="nutella-cupcakes">Order</button>
                </div>

                <div id="petifores" class="menu-option">
                    <img src = "../images/petifores.jpg" alt= "Petifores" width="280" height="200">
                    <p class="desc">Petifores - 1 Ct.</p> <br>
                    <button data-order="petifores">Order</button>
                </div>

                <div id="sugar-cookies" class="menu-option">
                    <img src = "../images/sugar-cookies.jpg" alt= "Sugar Cookies" width="280" height="200">
                    <p class="desc">Sugar Cookies - 12 Ct.</p> <br>
                    <button data-order="sugar-cookies">Order</button>
                </div>
            </div>
        </main>

        <p>Advertisement</p>
        <aside>
            <div id="ads">
                <img src = "../images/crumbl.jpg" alt= "Crumbl Ad" width="280" height="200">
                <img src = "../images/bonbon.jpg" alt= "The Bonbonerie Ad" width="200" height="200">
                <img src = "../images/servatii.jpg" alt= "Servatii Ad" width="280" height="200">
            </div>
        </aside>
        <br>
        <footer>
            <p>Suzi's Bakeshop LLC</p>
        </footer>
        <!-- The script tag is used to include JavaScript code in an HTML document -->
        <script>

            // Add an event listener that listens for the DOMContentLoaded event, which is triggered when the page has finished loading
            window.addEventListener("DOMContentLoaded", function(e) {
                console.log("The page loaded"); // Output a message to the console to indicate that the page has loaded
            
                // Get a const reference to all the buttons with a 'data-order' attribute
                const orderButtons = document.querySelectorAll("button[data-order]");
            
                // Create a loop that iterates over each button in orderButtons
                orderButtons.forEach(function(btn){
            
                    // Add an event listener that listens for a click event on the current button
                    btn.addEventListener("click", function(e){
                        console.log("button clicked"); // Output a message to the console to indicate that the button was clicked
            
                        // Get a const reference to the current button and its parent node
                        const btn = e.currentTarget;
                        const container = btn.parentNode;
            
                        // Create an order object that stores the id, title, and price of the clicked item
                        const order = {
                            id: btn.getAttribute("data-order"),
                            title: container.querySelector(".desc").innerText,
                            price: "$0.00"
                        };
            
                        // Save the order object to local storage as a JSON string
                        localStorage.setItem("order", JSON.stringify(order));
            
                        // Redirect the user to the request.html page
                        const url = window.location.href.replace("menu.html", "request.html");
                        window.location.href = url;
                    });
            
                });
            
            });
            
            </script>
</body>
</html>